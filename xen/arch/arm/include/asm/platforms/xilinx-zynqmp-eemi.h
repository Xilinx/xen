/*
 * Copyright (c) 2018 Xilinx Inc.
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms and conditions of the GNU General Public
 * License, version 2, as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#ifndef __ASM_ARM_PLATFORMS_ZYNQMP_H
#define __ASM_ARM_PLATFORMS_ZYNQMP_H

#include <asm/processor.h>
#include <asm/smccc.h>

/* SMC function IDs for SiP Service queries */
#define ZYNQMP_SIP_SVC_CALL_COUNT       0xff00
#define ZYNQMP_SIP_SVC_UID              0xff01
#define ZYNQMP_SIP_SVC_VERSION          0xff03

enum pm_node_id {
	ZYNQMP_PM_DEV_UNKNOWN = 0,
	ZYNQMP_PM_DEV_APU,
	ZYNQMP_PM_DEV_APU_0,
	ZYNQMP_PM_DEV_APU_1,
	ZYNQMP_PM_DEV_APU_2,
	ZYNQMP_PM_DEV_APU_3,
	ZYNQMP_PM_DEV_RPU,
	ZYNQMP_PM_DEV_RPU_0,
	ZYNQMP_PM_DEV_RPU_1,
	ZYNQMP_PM_DEV_PLD,
	ZYNQMP_PM_DEV_FPD,
	ZYNQMP_PM_DEV_OCM_BANK_0,
	ZYNQMP_PM_DEV_OCM_BANK_1,
	ZYNQMP_PM_DEV_OCM_BANK_2,
	ZYNQMP_PM_DEV_OCM_BANK_3,
	ZYNQMP_PM_DEV_TCM_0_A,
	ZYNQMP_PM_DEV_TCM_0_B,
	ZYNQMP_PM_DEV_TCM_1_A,
	ZYNQMP_PM_DEV_TCM_1_B,
	ZYNQMP_PM_DEV_L2,
	ZYNQMP_PM_DEV_GPU_PP_0,
	ZYNQMP_PM_DEV_GPU_PP_1,
	ZYNQMP_PM_DEV_USB_0,
	ZYNQMP_PM_DEV_USB_1,
	ZYNQMP_PM_DEV_TTC_0,
	ZYNQMP_PM_DEV_TTC_1,
	ZYNQMP_PM_DEV_TTC_2,
	ZYNQMP_PM_DEV_TTC_3,
	ZYNQMP_PM_DEV_SATA,
	ZYNQMP_PM_DEV_ETH_0,
	ZYNQMP_PM_DEV_ETH_1,
	ZYNQMP_PM_DEV_ETH_2,
	ZYNQMP_PM_DEV_ETH_3,
	ZYNQMP_PM_DEV_UART_0,
	ZYNQMP_PM_DEV_UART_1,
	ZYNQMP_PM_DEV_SPI_0,
	ZYNQMP_PM_DEV_SPI_1,
	ZYNQMP_PM_DEV_I2C_0,
	ZYNQMP_PM_DEV_I2C_1,
	ZYNQMP_PM_DEV_SD_0,
	ZYNQMP_PM_DEV_SD_1,
	ZYNQMP_PM_DEV_DP,
	ZYNQMP_PM_DEV_GDMA,
	ZYNQMP_PM_DEV_ADMA,
	ZYNQMP_PM_DEV_NAND,
	ZYNQMP_PM_DEV_QSPI,
	ZYNQMP_PM_DEV_GPIO,
	ZYNQMP_PM_DEV_CAN_0,
	ZYNQMP_PM_DEV_CAN_1,
	ZYNQMP_PM_DEV_AFI,
	ZYNQMP_PM_DEV_APLL,
	ZYNQMP_PM_DEV_VPLL,
	ZYNQMP_PM_DEV_DPLL,
	ZYNQMP_PM_DEV_RPLL,
	ZYNQMP_PM_DEV_IOPLL,
	ZYNQMP_PM_DEV_DDR,
	ZYNQMP_PM_DEV_IPI_APU,
	ZYNQMP_PM_DEV_IPI_RPU_0,
	ZYNQMP_PM_DEV_GPU,
	ZYNQMP_PM_DEV_PCIE,
	ZYNQMP_PM_DEV_PCAP,
	ZYNQMP_PM_DEV_RTC,
	ZYNQMP_PM_DEV_LPD,
	ZYNQMP_PM_DEV_VCU,
	ZYNQMP_PM_DEV_IPI_RPU_1,
	ZYNQMP_PM_DEV_IPI_PL_0,
	ZYNQMP_PM_DEV_IPI_PL_1,
	ZYNQMP_PM_DEV_IPI_PL_2,
	ZYNQMP_PM_DEV_IPI_PL_3,
	ZYNQMP_PM_DEV_PL,
	ZYNQMP_PM_DEV_SWDT_1,
	ZYNQMP_PM_DEV_MAX
};

enum pm_reset {
	ZYNQMP_PM_RST_START = 999,
	ZYNQMP_PM_RST_PCIE_CFG,
	ZYNQMP_PM_RST_PCIE_BRIDGE,
	ZYNQMP_PM_RST_PCIE_CTRL,
	ZYNQMP_PM_RST_DP,
	ZYNQMP_PM_RST_SWDT_CRF,
	ZYNQMP_PM_RST_AFI_FM5,
	ZYNQMP_PM_RST_AFI_FM4,
	ZYNQMP_PM_RST_AFI_FM3,
	ZYNQMP_PM_RST_AFI_FM2,
	ZYNQMP_PM_RST_AFI_FM1,
	ZYNQMP_PM_RST_AFI_FM0,
	ZYNQMP_PM_RST_GDMA,
	ZYNQMP_PM_RST_GPU_PP1,
	ZYNQMP_PM_RST_GPU_PP0,
	ZYNQMP_PM_RST_GPU,
	ZYNQMP_PM_RST_GT,
	ZYNQMP_PM_RST_SATA,
	ZYNQMP_PM_RST_ACPU3_PWRON,
	ZYNQMP_PM_RST_ACPU2_PWRON,
	ZYNQMP_PM_RST_ACPU1_PWRON,
	ZYNQMP_PM_RST_ACPU0_PWRON,
	ZYNQMP_PM_RST_APU_L2,
	ZYNQMP_PM_RST_ACPU3,
	ZYNQMP_PM_RST_ACPU2,
	ZYNQMP_PM_RST_ACPU1,
	ZYNQMP_PM_RST_ACPU0,
	ZYNQMP_PM_RST_DDR,
	ZYNQMP_PM_RST_APM_FPD,
	ZYNQMP_PM_RST_SOFT,
	ZYNQMP_PM_RST_GEM0,
	ZYNQMP_PM_RST_GEM1,
	ZYNQMP_PM_RST_GEM2,
	ZYNQMP_PM_RST_GEM3,
	ZYNQMP_PM_RST_QSPI,
	ZYNQMP_PM_RST_UART0,
	ZYNQMP_PM_RST_UART1,
	ZYNQMP_PM_RST_SPI0,
	ZYNQMP_PM_RST_SPI1,
	ZYNQMP_PM_RST_SDIO0,
	ZYNQMP_PM_RST_SDIO1,
	ZYNQMP_PM_RST_CAN0,
	ZYNQMP_PM_RST_CAN1,
	ZYNQMP_PM_RST_I2C0,
	ZYNQMP_PM_RST_I2C1,
	ZYNQMP_PM_RST_TTC0,
	ZYNQMP_PM_RST_TTC1,
	ZYNQMP_PM_RST_TTC2,
	ZYNQMP_PM_RST_TTC3,
	ZYNQMP_PM_RST_SWDT_CRL,
	ZYNQMP_PM_RST_NAND,
	ZYNQMP_PM_RST_ADMA,
	ZYNQMP_PM_RST_GPIO,
	ZYNQMP_PM_RST_IOU_CC,
	ZYNQMP_PM_RST_TIMESTAMP,
	ZYNQMP_PM_RST_RPU_R50,
	ZYNQMP_PM_RST_RPU_R51,
	ZYNQMP_PM_RST_RPU_AMBA,
	ZYNQMP_PM_RST_OCM,
	ZYNQMP_PM_RST_RPU_PGE,
	ZYNQMP_PM_RST_USB0_CORERESET,
	ZYNQMP_PM_RST_USB1_CORERESET,
	ZYNQMP_PM_RST_USB0_HIBERRESET,
	ZYNQMP_PM_RST_USB1_HIBERRESET,
	ZYNQMP_PM_RST_USB0_APB,
	ZYNQMP_PM_RST_USB1_APB,
	ZYNQMP_PM_RST_IPI,
	ZYNQMP_PM_RST_APM_LPD,
	ZYNQMP_PM_RST_RTC,
	ZYNQMP_PM_RST_SYSMON,
	ZYNQMP_PM_RST_AFI_FM6,
	ZYNQMP_PM_RST_LPD_SWDT,
	ZYNQMP_PM_RST_FPD,
	ZYNQMP_PM_RST_RPU_DBG1,
	ZYNQMP_PM_RST_RPU_DBG0,
	ZYNQMP_PM_RST_DBG_LPD,
	ZYNQMP_PM_RST_DBG_FPD,
	ZYNQMP_PM_RST_APLL,
	ZYNQMP_PM_RST_DPLL,
	ZYNQMP_PM_RST_VPLL,
	ZYNQMP_PM_RST_IOPLL,
	ZYNQMP_PM_RST_RPLL,
	ZYNQMP_PM_RST_GPO3_PL_0,
	ZYNQMP_PM_RST_GPO3_PL_1,
	ZYNQMP_PM_RST_GPO3_PL_2,
	ZYNQMP_PM_RST_GPO3_PL_3,
	ZYNQMP_PM_RST_GPO3_PL_4,
	ZYNQMP_PM_RST_GPO3_PL_5,
	ZYNQMP_PM_RST_GPO3_PL_6,
	ZYNQMP_PM_RST_GPO3_PL_7,
	ZYNQMP_PM_RST_GPO3_PL_8,
	ZYNQMP_PM_RST_GPO3_PL_9,
	ZYNQMP_PM_RST_GPO3_PL_10,
	ZYNQMP_PM_RST_GPO3_PL_11,
	ZYNQMP_PM_RST_GPO3_PL_12,
	ZYNQMP_PM_RST_GPO3_PL_13,
	ZYNQMP_PM_RST_GPO3_PL_14,
	ZYNQMP_PM_RST_GPO3_PL_15,
	ZYNQMP_PM_RST_GPO3_PL_16,
	ZYNQMP_PM_RST_GPO3_PL_17,
	ZYNQMP_PM_RST_GPO3_PL_18,
	ZYNQMP_PM_RST_GPO3_PL_19,
	ZYNQMP_PM_RST_GPO3_PL_20,
	ZYNQMP_PM_RST_GPO3_PL_21,
	ZYNQMP_PM_RST_GPO3_PL_22,
	ZYNQMP_PM_RST_GPO3_PL_23,
	ZYNQMP_PM_RST_GPO3_PL_24,
	ZYNQMP_PM_RST_GPO3_PL_25,
	ZYNQMP_PM_RST_GPO3_PL_26,
	ZYNQMP_PM_RST_GPO3_PL_27,
	ZYNQMP_PM_RST_GPO3_PL_28,
	ZYNQMP_PM_RST_GPO3_PL_29,
	ZYNQMP_PM_RST_GPO3_PL_30,
	ZYNQMP_PM_RST_GPO3_PL_31,
	ZYNQMP_PM_RST_RPU_LS,
	ZYNQMP_PM_RST_PS_ONLY,
	ZYNQMP_PM_RST_PL,
	ZYNQMP_PM_RST_END
};

enum pm_clock {
    ZYNQMP_PM_CLK_IOPLL,
    ZYNQMP_PM_CLK_RPLL,
    ZYNQMP_PM_CLK_APLL,
    ZYNQMP_PM_CLK_DPLL,
    ZYNQMP_PM_CLK_VPLL,
    ZYNQMP_PM_CLK_IOPLL_TO_FPD,
    ZYNQMP_PM_CLK_RPLL_TO_FPD,
    ZYNQMP_PM_CLK_APLL_TO_LPD,
    ZYNQMP_PM_CLK_DPLL_TO_LPD,
    ZYNQMP_PM_CLK_VPLL_TO_LPD,
    ZYNQMP_PM_CLK_ACPU,
    ZYNQMP_PM_CLK_ACPU_HALF,
    ZYNQMP_PM_CLK_DBG_FPD,
    ZYNQMP_PM_CLK_DBG_LPD,
    ZYNQMP_PM_CLK_DBG_TRACE,
    ZYNQMP_PM_CLK_DBG_TSTMP,
    ZYNQMP_PM_CLK_DP_VIDEO_REF,
    ZYNQMP_PM_CLK_DP_AUDIO_REF,
    ZYNQMP_PM_CLK_DP_STC_REF,
    ZYNQMP_PM_CLK_GDMA_REF,
    ZYNQMP_PM_CLK_DPDMA_REF,
    ZYNQMP_PM_CLK_DDR_REF,
    ZYNQMP_PM_CLK_SATA_REF,
    ZYNQMP_PM_CLK_PCIE_REF,
    ZYNQMP_PM_CLK_GPU_REF,
    ZYNQMP_PM_CLK_GPU_PP0_REF,
    ZYNQMP_PM_CLK_GPU_PP1_REF,
    ZYNQMP_PM_CLK_TOPSW_MAIN,
    ZYNQMP_PM_CLK_TOPSW_LSBUS,
    ZYNQMP_PM_CLK_GTGREF0_REF,
    ZYNQMP_PM_CLK_LPD_SWITCH,
    ZYNQMP_PM_CLK_LPD_LSBUS,
    ZYNQMP_PM_CLK_USB0_BUS_REF,
    ZYNQMP_PM_CLK_USB1_BUS_REF,
    ZYNQMP_PM_CLK_USB3_DUAL_REF,
    ZYNQMP_PM_CLK_USB0,
    ZYNQMP_PM_CLK_USB1,
    ZYNQMP_PM_CLK_CPU_R5,
    ZYNQMP_PM_CLK_CPU_R5_CORE,
    ZYNQMP_PM_CLK_CSU_SPB,
    ZYNQMP_PM_CLK_CSU_PLL,
    ZYNQMP_PM_CLK_PCAP,
    ZYNQMP_PM_CLK_IOU_SWITCH,
    ZYNQMP_PM_CLK_GEM_TSU_REF,
    ZYNQMP_PM_CLK_GEM_TSU,
    ZYNQMP_PM_CLK_GEM0_TX,
    ZYNQMP_PM_CLK_GEM1_TX,
    ZYNQMP_PM_CLK_GEM2_TX,
    ZYNQMP_PM_CLK_GEM3_TX,
    ZYNQMP_PM_CLK_GEM0_RX,
    ZYNQMP_PM_CLK_GEM1_RX,
    ZYNQMP_PM_CLK_GEM2_RX,
    ZYNQMP_PM_CLK_GEM3_RX,
    ZYNQMP_PM_CLK_QSPI_REF,
    ZYNQMP_PM_CLK_SDIO0_REF,
    ZYNQMP_PM_CLK_SDIO1_REF,
    ZYNQMP_PM_CLK_UART0_REF,
    ZYNQMP_PM_CLK_UART1_REF,
    ZYNQMP_PM_CLK_SPI0_REF,
    ZYNQMP_PM_CLK_SPI1_REF,
    ZYNQMP_PM_CLK_NAND_REF,
    ZYNQMP_PM_CLK_I2C0_REF,
    ZYNQMP_PM_CLK_I2C1_REF,
    ZYNQMP_PM_CLK_CAN0_REF,
    ZYNQMP_PM_CLK_CAN1_REF,
    ZYNQMP_PM_CLK_CAN0,
    ZYNQMP_PM_CLK_CAN1,
    ZYNQMP_PM_CLK_DLL_REF,
    ZYNQMP_PM_CLK_ADMA_REF,
    ZYNQMP_PM_CLK_TIMESTAMP_REF,
    ZYNQMP_PM_CLK_AMS_REF,
    ZYNQMP_PM_CLK_PL0_REF,
    ZYNQMP_PM_CLK_PL1_REF,
    ZYNQMP_PM_CLK_PL2_REF,
    ZYNQMP_PM_CLK_PL3_REF,
    ZYNQMP_PM_CLK_WDT,
    ZYNQMP_PM_CLK_IOPLL_INT,
    ZYNQMP_PM_CLK_IOPLL_PRE_SRC,
    ZYNQMP_PM_CLK_IOPLL_HALF,
    ZYNQMP_PM_CLK_IOPLL_INT_MUX,
    ZYNQMP_PM_CLK_IOPLL_POST_SRC,
    ZYNQMP_PM_CLK_RPLL_INT,
    ZYNQMP_PM_CLK_RPLL_PRE_SRC,
    ZYNQMP_PM_CLK_RPLL_HALF,
    ZYNQMP_PM_CLK_RPLL_INT_MUX,
    ZYNQMP_PM_CLK_RPLL_POST_SRC,
    ZYNQMP_PM_CLK_APLL_INT,
    ZYNQMP_PM_CLK_APLL_PRE_SRC,
    ZYNQMP_PM_CLK_APLL_HALF,
    ZYNQMP_PM_CLK_APLL_INT_MUX,
    ZYNQMP_PM_CLK_APLL_POST_SRC,
    ZYNQMP_PM_CLK_DPLL_INT,
    ZYNQMP_PM_CLK_DPLL_PRE_SRC,
    ZYNQMP_PM_CLK_DPLL_HALF,
    ZYNQMP_PM_CLK_DPLL_INT_MUX,
    ZYNQMP_PM_CLK_DPLL_POST_SRC,
    ZYNQMP_PM_CLK_VPLL_INT,
    ZYNQMP_PM_CLK_VPLL_PRE_SRC,
    ZYNQMP_PM_CLK_VPLL_HALF,
    ZYNQMP_PM_CLK_VPLL_INT_MUX,
    ZYNQMP_PM_CLK_VPLL_POST_SRC,
    ZYNQMP_PM_CLK_CAN0_MIO,
    ZYNQMP_PM_CLK_CAN1_MIO,
    ZYNQMP_PM_CLK_ACPU_FULL,
    ZYNQMP_PM_CLK_GEM0_REF,
    ZYNQMP_PM_CLK_GEM1_REF,
    ZYNQMP_PM_CLK_GEM2_REF,
    ZYNQMP_PM_CLK_GEM3_REF,
    ZYNQMP_PM_CLK_GEM0_REF_UNGATED,
    ZYNQMP_PM_CLK_GEM1_REF_UNGATED,
    ZYNQMP_PM_CLK_GEM2_REF_UNGATED,
    ZYNQMP_PM_CLK_GEM3_REF_UNGATED,
    ZYNQMP_PM_CLK_LPD_WDT,
    ZYNQMP_PM_CLK_END,
};

extern bool zynqmp_eemi(struct cpu_user_regs *regs);

#endif /* __ASM_ARM_PLATFORMS_ZYNQMP_H */

/*
 * Local variables:
 * mode: C
 * c-file-style: "BSD"
 * c-basic-offset: 4
 * indent-tabs-mode: nil
 * End:
 */
